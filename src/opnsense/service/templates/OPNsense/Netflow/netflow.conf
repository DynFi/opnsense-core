#
# Automatic generated configuration for netflow.
# Do not edit this file manually.
#
{% if not helpers.empty('OPNsense.Netflow.capture.interfaces') and not helpers.empty('OPNsense.Netflow.capture.targets') %}
netflow_interfaces="{% for interface in OPNsense.Netflow.capture.interfaces.split(',')
%}{{
    helpers.physical_interface(interface)
}} {%
  endfor%}"
netflow_egress_only="{% if OPNsense.Netflow.capture.egress_only %}{% for interface in OPNsense.Netflow.capture.egress_only.split(',')
%}{{
    helpers.physical_interface(interface)
}} {%
  endfor%} {%endif%}"
netflow_version="{%if OPNsense.Netflow.capture.version == 'v9' %}9{% else %}5{%endif%}"
netflow_int_destination="127.0.0.1:2055"
netflow_destinations="{% for item in OPNsense.Netflow.capture.targets.split(',') -%}
{% if item.count(']') %} {{ item|replace(']:', ']/') }} {% else %} {{ item|replace(':','/')}} {% endif -%}
{% endfor %}"
netflow_active_timeout={{OPNsense.Netflow.activeTimeout|default(1800)}}
netflow_inactive_timeout={{OPNsense.Netflow.inactiveTimeout|default(15)}}
{% endif %}
