#
# Automatic generated configuration for netflow.
# Do not edit this file manually.
#
{% from 'OPNsense/Macros/interface.macro' import physical_interface %}
{%
  if helpers.exists('OPNsense.Netflow.capture.interfaces')
  and
  OPNsense.Netflow.capture.interfaces.strip()
  and
  helpers.exists('OPNsense.Netflow.capture.targets')
  and
  OPNsense.Netflow.capture.targets.strip()
  %}
netflow_interfaces="{% for interface in OPNsense.Netflow.capture.interfaces.split(',')
%}{{
    physical_interface(interface)
}} {%
  endfor%}"
netflow_egress_only="{% if OPNsense.Netflow.capture.egress_only %}{% for interface in OPNsense.Netflow.capture.egress_only.split(',')
%}{{
    physical_interface(interface)
}} {%
  endfor%} {%endif%}"
netflow_version="{%if OPNsense.Netflow.capture.version == 'v9' %}9{% else %}5{%endif%}"
netflow_int_destination="127.0.0.1:2055"
netflow_destinations="{{OPNsense.Netflow.capture.targets.replace(',', ' ')}}"
netflow_active_timeout={{OPNsense.Netflow.activeTimeout|default(1800)}}
netflow_inactive_timeout={{OPNsense.Netflow.inactiveTimeout|default(15)}}
{% endif %}
