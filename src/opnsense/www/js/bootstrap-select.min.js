/*!
 * Bootstrap-select v1.13.3 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2018 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */

(function(e,t){e===void 0&&window!==void 0&&(e=window),typeof define=="function"&&define.amd?define(["jquery"],function(e){return t(e)}):typeof module=="object"&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)})(this,function(e){(function(e){"use strict";var t,n,s,o,a,r,c,l,d,m,f,p,g,b,y,_,w,O,x,h=document.createElement("_");h.classList.toggle("c3",!1),h.classList.contains("c3")&&(y=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)===!t?t:y.call(this,e)});function E(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})}String.prototype.startsWith||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch{}return n}(),n={}.toString,t=function(e){if(this==null)throw new TypeError;var t,s,o,i,a,r,c,l=String(this);if(e&&n.call(e)=="[object RegExp]")throw new TypeError;if(c=l.length,i=String(e),a=i.length,r=arguments.length>1?arguments[1]:void 0,t=r?Number(r):0,t!=t&&(t=0),o=Math.min(Math.max(t,0),c),a+o>c)return!1;for(s=-1;++s<a;)if(l.charCodeAt(o+s)!=i.charCodeAt(s))return!1;return!0};e?e(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t}(),Object.keys||(Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n});function u(e){if(t=[],s=e&&e.options,e.multiple)for(var t,n,s,o=0,i=s.length;o<i;o++)n=s[o],n.selected&&t.push(n.value||n.text);else t=e.value;return t}r={useDefault:!1,_set:e.valHooks.select.set},e.valHooks.select.set=function(t,n){return n&&!r.useDefault&&e(t).data("selected",!0),r._set.apply(this,arguments)},a=null,b=function(){try{return new Event("change"),!0}catch{return!1}}(),e.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?(b?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(e,!0,!1)),n.dispatchEvent(t)):n.fireEvent?(t=document.createEventObject(),t.eventType=e,n.fireEvent("on"+e,t)):this.trigger(e)};function v(e,t,n,s){for(var o,r,c=["content","subtext","tokens"],i=!1,a=0;a<c.length;a++)if(r=c[a],o=e[r],o&&(o=o.toString(),r==="content"&&(o=o.replace(/<[^>]+>/g,"")),s&&(o=C(o)),o=o.toUpperCase(),n==="contains"?i=o.indexOf(t)>=0:i=o.startsWith(t),i))break;return i}function i(e){return parseInt(e,10)||0}function C(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t?t.replace(this.re,this.ch):""}),t}f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},m={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},l=function(e){var n=function(t){return e[t]},t="(?:"+Object.keys(e).join("|")+")",s=RegExp(t),o=RegExp(t,"g");return function(e){return e=e==null?"":""+e,s.test(e)?e.replace(o,n):e}},c=l(f),p=l(m),g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},s={success:!1,major:"3"};try{s.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),s.major=s.full[0],s.success=!0}catch(e){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e)}t={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},d={MENU:"."+t.MENU},s.major==="4"&&(t.DIVIDER="dropdown-divider",t.SHOW="show",t.BUTTONCLASS="btn-light",t.POPOVERHEADER="popover-header"),_=new RegExp(o.ARROW_UP+"|"+o.ARROW_DOWN),w=new RegExp("^"+o.TAB+"$|"+o.ESCAPE),x=new RegExp(o.ENTER+"|"+o.SPACE),n=function(t,s){var o,i=this;r.useDefault||(e.valHooks.select.set=r._set,r.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=s,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.options.title===null&&(this.options.title=this.$element.attr("title")),o=this.options.windowPadding,typeof o=="number"&&(this.options.windowPadding=[o,o,o,o]),this.val=n.prototype.val,this.render=n.prototype.render,this.refresh=n.prototype.refresh,this.setStyle=n.prototype.setStyle,this.selectAll=n.prototype.selectAll,this.deselectAll=n.prototype.deselectAll,this.destroy=n.prototype.destroy,this.remove=n.prototype.remove,this.show=n.prototype.show,this.hide=n.prototype.hide,this.init()},n.VERSION="1.13.3",n.BootstrapVersion=s.major,n.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:t.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1},s.major==="4"&&(n.DEFAULTS.style="btn-light",n.DEFAULTS.iconBase="",n.DEFAULTS.tickIcon="bs-ok-default"),n.prototype={constructor:n,init:function(){var e=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(d.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass(t.MENURIGHT),typeof n!="undefined"&&this.$button.attr("data-id",n),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(e.isVirtual()){var t=e.$menuInner[0],n=t.firstChild.cloneNode(!1);t.replaceChild(n,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"shown.bs.select.invalid":function(){e.$element.val(e.$element.val()).off("shown.bs.select.invalid")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var o,l=this.autofocus?" autofocus":"",d=this.multiple||this.options.showTick?" show-tick":"",i="",a="",r="",n="";return this.options.header&&(i='<div class="'+t.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(a='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+c(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(r='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+t.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+t.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(n='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+t.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),o='<div class="dropdown bootstrap-select'+d+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+(this.options.display==="static"?'data-display="static"':"")+'data-toggle="dropdown"'+l+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+(s.major==="4"?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+t.MENU+" "+(s.major==="4"?"":t.SHOW)+'" role="combobox">'+i+a+r+'<div class="inner '+t.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+t.MENU+" inner "+(s.major==="4"?t.SHOW:"")+'"></ul></div>'+n+"</div></div>",e(o)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(t=0;t<this.selectpicker.current.data.length;t++){var t,e=this.selectpicker.current.data[t],n=!0;e.type==="divider"?(n=!1,e.height=this.sizeInfo.dividerHeight):e.type==="optgroup-label"?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),e.position=(t===0?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return this.options.virtualScroll!==!1&&this.selectpicker.main.elements.length>=this.options.virtualScroll||this.options.virtualScroll===!0},createView:function(t,n){n=n||0;var o,i,a,c,l,d,s=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,a=[],this.setPositionData(),r(n,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){s.noScroll||r(this.scrollTop,t),s.noScroll=!1});function r(e,n){var r,u,m,f,p,g,v,j,y,_,A,S,d=s.selectpicker.current.elements.length,b=[],c=void 0,O=!0,h=s.isVirtual();s.selectpicker.view.scrollTop=e,h===!0&&s.sizeInfo.hasScrollBar&&s.$menu[0].offsetWidth>s.sizeInfo.totalMenuWidth&&(s.sizeInfo.menuWidth=s.$menu[0].offsetWidth,s.sizeInfo.totalMenuWidth=s.sizeInfo.menuWidth+s.sizeInfo.scrollBarWidth,s.$menu.css("min-width",s.sizeInfo.menuWidth)),g=Math.ceil(s.sizeInfo.menuInnerHeight/s.sizeInfo.liHeight*1.5),f=Math.round(d/g)||1;for(r=0;r<f;r++){if(p=(r+1)*g,r===f-1&&(p=d),b[r]=[r*g+(r?1:0),p],!d)break;c===void 0&&e<=s.selectpicker.current.data[p-1].position-s.sizeInfo.menuInnerHeight&&(c=r)}if(c===void 0&&(c=0),v=[s.selectpicker.view.position0,s.selectpicker.view.position1],S=Math.max(0,c-1),j=Math.min(f-1,c+1),s.selectpicker.view.position0=Math.max(0,b[S][0])||0,s.selectpicker.view.position1=Math.min(d,b[j][1])||0,y=v[0]!==s.selectpicker.view.position0||v[1]!==s.selectpicker.view.position1,s.activeIndex!==void 0&&(i=s.selectpicker.current.elements[s.selectpicker.current.map.newIndex[s.prevActiveIndex]],a=s.selectpicker.current.elements[s.selectpicker.current.map.newIndex[s.activeIndex]],o=s.selectpicker.current.elements[s.selectpicker.current.map.newIndex[s.selectedIndex]],n&&(s.activeIndex!==s.selectedIndex&&(a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active")),s.activeIndex=void 0),s.activeIndex&&s.activeIndex!==s.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active"))),s.prevActiveIndex!==void 0&&s.prevActiveIndex!==s.activeIndex&&s.prevActiveIndex!==s.selectedIndex&&i&&i.length&&(i.classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active")),(n||y)&&(_=s.selectpicker.view.visibleElements?s.selectpicker.view.visibleElements.slice():[],s.selectpicker.view.visibleElements=s.selectpicker.current.elements.slice(s.selectpicker.view.position0,s.selectpicker.view.position1),s.setOptionStatus(),(t||h===!1&&n)&&(O=!E(_,s.selectpicker.view.visibleElements)),(n||h===!0)&&O)){var x,C,l=s.$menuInner[0],w=document.createDocumentFragment(),M=l.firstChild.cloneNode(!1),k=h===!0?s.selectpicker.view.visibleElements:s.selectpicker.current.elements;l.replaceChild(M,l.firstChild);for(r=0,A=k.length;r<A;r++)w.appendChild(k[r]);h===!0&&(x=s.selectpicker.view.position0===0?0:s.selectpicker.current.data[s.selectpicker.view.position0-1].position,C=s.selectpicker.view.position1>d-1?0:s.selectpicker.current.data[d-1].position-s.selectpicker.current.data[s.selectpicker.view.position1-1].position,l.firstChild.style.marginTop=x+"px",l.firstChild.style.marginBottom=C+"px"),l.firstChild.appendChild(w)}s.prevActiveIndex=s.activeIndex,s.options.liveSearch?t&&n&&(u=0,s.selectpicker.view.canHighlight[u]||(u=1+s.selectpicker.view.canHighlight.slice(1).indexOf(!0)),m=s.selectpicker.view.visibleElements[u],s.selectpicker.view.currentActive&&(s.selectpicker.view.currentActive.classList.remove("active"),s.selectpicker.view.currentActive.firstChild&&s.selectpicker.view.currentActive.firstChild.classList.remove("active")),m&&(m.classList.add("active"),m.firstChild&&m.firstChild.classList.add("active")),s.activeIndex=s.selectpicker.current.map.originalIndex[u]):s.$menuInner.focus()}e(window).off("resize.createView").on("resize.createView",function(){r(s.$menuInner[0].scrollTop)})},createLi:function(){var n,d,u,m,g,v,b,y,_,x,i=this,l=[],p=0,j=0,o=[],r=0,f=0,a=-1;if(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),n={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\u00A0")},d=document.createDocumentFragment(),(i.options.showTick||i.multiple)&&(b=n.span.cloneNode(!1),b.className=i.options.iconBase+" "+i.options.tickIcon+" check-mark",n.a.appendChild(b)),n.a.setAttribute("role","option"),n.subtext.className="text-muted",n.text=n.span.cloneNode(!1),n.text.className="text",u=function(e,t,s){var o=n.li.cloneNode(!1);return e&&(e.nodeType===1||e.nodeType===11?o.appendChild(e):o.innerHTML=e),typeof t!="undefined"&&""!==t&&(o.className=t),typeof s!="undefined"&&null!==s&&o.classList.add("optgroup-"+s),o},g=function(e,t,o){var i=n.a.cloneNode(!0);return e&&(e.nodeType===11?i.appendChild(e):i.insertAdjacentHTML("beforeend",e)),typeof t!="undefined"&""!==t&&(i.className=t),s.major==="4"&&i.classList.add("dropdown-item"),o&&i.setAttribute("style",o),i},v=function(e){var s,o,a,t=n.text.cloneNode(!1);return e.optionContent?t.innerHTML=e.optionContent:(t.textContent=e.text,e.optionIcon&&(a=n.whitespace.cloneNode(!1),o=n.span.cloneNode(!1),o.className=i.options.iconBase+" "+e.optionIcon,d.appendChild(o),d.appendChild(a)),e.optionSubtext&&(s=n.subtext.cloneNode(!1),s.innerHTML=e.optionSubtext,t.appendChild(s))),d.appendChild(t),d},y=function(e){var s,o,a,t=n.text.cloneNode(!1);return t.innerHTML=e.labelEscaped,e.labelIcon&&(a=n.whitespace.cloneNode(!1),o=n.span.cloneNode(!1),o.className=i.options.iconBase+" "+e.labelIcon,d.appendChild(o),d.appendChild(a)),e.labelSubtext&&(s=n.subtext.cloneNode(!1),s.textContent=e.labelSubtext,t.appendChild(s)),d.appendChild(t),d},this.options.title&&!this.multiple){a--;var h=this.$element[0],w=!1,O=!this.selectpicker.view.titleOption.parentNode;O&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",x=e(h.options[h.selectedIndex]),w=x.attr("selected")===void 0&&this.$element.data("selected")===void 0),(O||this.selectpicker.view.titleOption.index!==0)&&h.insertBefore(this.selectpicker.view.titleOption,h.firstChild),w&&(h.selectedIndex=0)}m=this.$element.find("option"),m.each(function(n){if(E=e(this),a++,E.hasClass("bs-title-option"))return;var d,h,b,O,E,F,T,z,V,s=E.data(),$=this.className||"",R=c(this.style.cssText),M=s.content,A=this.textContent,H=s.tokens,k=s.subtext,D=s.icon,x=E.parent(),C=x[0],N=C.tagName==="OPTGROUP",P=N&&C.disabled,S=this.disabled||P,w=this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP",L=x.data();if(s.hidden===!0||i.options.hideDisabled&&(S&&!N||P)){d=s.prevHiddenIndex,E.next().data("prevHiddenIndex",d!==void 0?d:n),a--,w||d!==void 0&&(h=m[d].previousElementSibling,h&&h.tagName==="OPTGROUP"&&!h.disabled&&(w=!0)),w&&o[o.length-1].type!=="divider"&&(a++,l.push(u(!1,t.DIVIDER,r+"div")),o.push({type:"divider",optID:r}));return}if(N&&s.divider!==!0){if(i.options.hideDisabled&&S&&(L.allOptionsDisabled===void 0&&(T=x.children(),x.data("allOptionsDisabled",T.filter(":disabled").length===T.length)),x.data("allOptionsDisabled"))){a--;return}if(z=" "+C.className||"",!this.previousElementSibling){r+=1;var U=C.label,I=c(U),B=L.subtext,W=L.icon;n!==0&&l.length>0&&(a++,l.push(u(!1,t.DIVIDER,r+"div")),o.push({type:"divider",optID:r})),a++,V=y({labelEscaped:I,labelSubtext:B,labelIcon:W}),l.push(u(V,"dropdown-header"+z,r)),o.push({content:I,subtext:B,type:"optgroup-label",optID:r}),f=a-1}if(i.options.hideDisabled&&S||s.hidden===!0){a--;return}F=v({text:A,optionContent:M,optionSubtext:k,optionIcon:D}),l.push(u(g(F,"opt "+$+z,R),"",r)),o.push({content:M||A,subtext:k,tokens:H,type:"option",optID:r,headerIndex:f,lastIndex:f+C.childElementCount,originalIndex:n,data:s}),p++}else s.divider===!0?(l.push(u(!1,t.DIVIDER)),o.push({type:"divider",originalIndex:n,data:s})):(!w&&i.options.hideDisabled&&(d=s.prevHiddenIndex,d!==void 0&&(h=m[d].previousElementSibling,h&&h.tagName==="OPTGROUP"&&!h.disabled&&(w=!0))),w&&o[o.length-1].type!=="divider"&&(a++,l.push(u(!1,t.DIVIDER,r+"div")),o.push({type:"divider",optID:r})),F=v({text:A,optionContent:M,optionSubtext:k,optionIcon:D}),l.push(u(g(F,$,R))),o.push({content:M||A,subtext:k,tokens:H,type:"option",originalIndex:n,data:s}),p++);i.selectpicker.main.map.newIndex[n]=a,i.selectpicker.main.map.originalIndex[a]=n,b=o[o.length-1],b.disabled=S,O=0,b.content&&(O+=b.content.length),b.subtext&&(O+=b.subtext.length),D&&(O+=1),O>j&&(j=O,_=l[l.length-1])}),this.selectpicker.main.elements=l,this.selectpicker.main.data=o,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=_,this.selectpicker.view.availableOptionsCount=p},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e,t,s,i,a,c,l,d,u,h,m,f,o=this,g=this.$element.find("option"),n=[],r=[];this.togglePlaceholder(),this.tabIndex();for(i=0,m=this.selectpicker.main.elements.length;i<m;i++)if(u=this.selectpicker.main.map.originalIndex[i],e=g[u],e&&e.selected&&(n.push(e),r.length<100&&o.options.selectedTextFormat!=="count"||n.length===1)){if(o.options.hideDisabled&&(e.disabled||e.parentNode.tagName==="OPTGROUP"&&e.parentNode.disabled))return;s=this.selectpicker.main.data[i].data,h=s.icon&&o.options.showIcon?'<i class="'+o.options.iconBase+" "+s.icon+'"></i> ':"",o.options.showSubtext&&s.subtext&&!o.multiple?l=' <small class="text-muted">'+s.subtext+"</small>":l="",e.title?a=e.title:s.content&&o.options.showContent?a=s.content.toString():a=h+e.innerHTML.trim()+l,r.push(a)}t=this.multiple?r.join(this.options.multipleSeparator):r[0],n.length>50&&(t+="..."),this.multiple&&this.options.selectedTextFormat.indexOf("count")!==-1&&(c=this.options.selectedTextFormat.split(">"),(c.length>1&&n.length>c[1]||c.length===1&&n.length>=2)&&(d=this.selectpicker.view.availableOptionsCount,f=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(n.length,d):this.options.countSelectedText,t=f.replace("{0}",n.length.toString()).replace("{1}",d.toString()))),this.options.title==void 0&&(this.options.title=this.$element.attr("title")),this.options.selectedTextFormat=="static"&&(t=this.options.title),t||(t=typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText),this.$button[0].title=p(t.replace(/<[^>]*>?/g,"").trim()),this.$button.find(".filter-option-inner-inner")[0].innerHTML=t,this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;t=="add"?this.$button.addClass(n):t=="remove"?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(n){if(!n&&(this.options.size===!1||this.sizeInfo))return;this.sizeInfo||(this.sizeInfo={});var y,u=document.createElement("div"),a=document.createElement("div"),h=document.createElement("div"),c=document.createElement("ul"),b=document.createElement("li"),d=document.createElement("li"),O=document.createElement("li"),v=document.createElement("a"),m=document.createElement("span"),f=this.options.header&&this.$menu.find("."+t.POPOVERHEADER).length>0?this.$menu.find("."+t.POPOVERHEADER)[0].cloneNode(!0):null,l=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,g=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,w=this.$element.find("option")[0];this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,m.className="text",v.className="dropdown-item "+(w?w.className:""),u.className=this.$menu[0].parentNode.className+" "+t.SHOW,u.style.width=this.sizeInfo.selectWidth+"px",this.options.width==="auto"&&(a.style.minWidth=0),a.className=t.MENU+" "+t.SHOW,h.className="inner "+t.SHOW,c.className=t.MENU+" inner "+(s.major==="4"?t.SHOW:""),b.className=t.DIVIDER,d.className="dropdown-header",m.appendChild(document.createTextNode("\u200b")),v.appendChild(m),O.appendChild(v),d.appendChild(m.cloneNode(!0)),this.selectpicker.view.widestOption&&c.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),c.appendChild(O),c.appendChild(b),c.appendChild(d),f&&a.appendChild(f),l&&(y=document.createElement("input"),l.className="bs-searchbox",y.className="form-control",l.appendChild(y),a.appendChild(l)),p&&a.appendChild(p),h.appendChild(c),a.appendChild(h),g&&a.appendChild(g),u.appendChild(a),document.body.appendChild(u);var x,k=v.offsetHeight,C=d?d.offsetHeight:0,A=f?f.offsetHeight:0,S=l?l.offsetHeight:0,M=p?p.offsetHeight:0,E=g?g.offsetHeight:0,T=e(b).outerHeight(!0),o=!!window.getComputedStyle&&window.getComputedStyle(a),_=a.offsetWidth,r=o?null:e(a),j={vert:i(o?o.paddingTop:r.css("paddingTop"))+i(o?o.paddingBottom:r.css("paddingBottom"))+i(o?o.borderTopWidth:r.css("borderTopWidth"))+i(o?o.borderBottomWidth:r.css("borderBottomWidth")),horiz:i(o?o.paddingLeft:r.css("paddingLeft"))+i(o?o.paddingRight:r.css("paddingRight"))+i(o?o.borderLeftWidth:r.css("borderLeftWidth"))+i(o?o.borderRightWidth:r.css("borderRightWidth"))},F={vert:j.vert+i(o?o.marginTop:r.css("marginTop"))+i(o?o.marginBottom:r.css("marginBottom"))+2,horiz:j.horiz+i(o?o.marginLeft:r.css("marginLeft"))+i(o?o.marginRight:r.css("marginRight"))+2};h.style.overflowY="scroll",x=a.offsetWidth-_,document.body.removeChild(u),this.sizeInfo.liHeight=k,this.sizeInfo.dropdownHeaderHeight=C,this.sizeInfo.headerHeight=A,this.sizeInfo.searchHeight=S,this.sizeInfo.actionsHeight=M,this.sizeInfo.doneButtonHeight=E,this.sizeInfo.dividerHeight=T,this.sizeInfo.menuPadding=j,this.sizeInfo.menuExtras=F,this.sizeInfo.menuWidth=_,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=x,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()},getSelectPosition:function(){var t,n,i=this,s=e(window),a=i.$newElement.offset(),o=e(i.options.container),r=e("header");i.options.container&&!o.is("body")?(t=o.offset(),t.top+=parseInt(o.css("borderTopWidth")),t.left+=parseInt(o.css("borderLeftWidth"))):(t={top:0,left:0},r&&(t.top+=r.outerHeight())),n=i.options.windowPadding,this.sizeInfo.selectOffsetTop=a.top-t.top-s.scrollTop(),this.sizeInfo.selectOffsetBot=s.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-n[2],this.sizeInfo.selectOffsetLeft=a.left-t.left-s.scrollLeft(),this.sizeInfo.selectOffsetRight=s.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(){this.getSelectPosition();var n,o,i,a,c,u,m,g,b=this.sizeInfo.selectWidth,p=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,l=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,r=this.sizeInfo.doneButtonHeight,v=this.sizeInfo.dividerHeight,s=this.sizeInfo.menuPadding,f=0;if(this.options.dropupAuto&&(g=p*this.selectpicker.current.elements.length+s.vert,this.$newElement.toggleClass(t.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&g+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),this.options.size==="auto")a=this.selectpicker.current.elements.length>3?this.sizeInfo.liHeight*3+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,m=a+d+l+h+r,c=Math.max(a-s.vert,0),this.$newElement.hasClass(t.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),u=n,o=n-d-l-h-r-s.vert;else if(this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size){for(i=0;i<this.options.size;i++)this.selectpicker.current.data[i].type==="divider"&&f++;n=p*this.options.size+f*v+s.vert,o=n-s.vert,u=n+d+l+h+r,m=c=""}this.options.dropdownAlignRight==="auto"&&this.$menu.toggleClass(t.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-b),this.$menu.css({"max-height":u+"px",overflow:"hidden","min-height":m+"px"}),this.$menuInner.css({"max-height":o+"px","overflow-y":"auto","min-height":c+"px"}),this.sizeInfo.menuInnerHeight=o,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),this.options.size===!1)return;var o,n=this,i=e(window),s=0;this.setMenuSize(),this.options.size==="auto"?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),i.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return n.setMenuSize()})):this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),i.off("resize.setMenuSize scroll.setMenuSize")),t?s=this.$menuInner[0].scrollTop:n.multiple||(o=n.selectpicker.main.map.newIndex[n.$element[0].selectedIndex],typeof o=="number"&&n.options.size!==!1&&(s=n.sizeInfo.liHeight*o,s=s-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2)),n.createView(!1,s)},setWidth:function(){var e=this;this.options.width==="auto"?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),n=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,n),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")}):this.options.width==="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var i,a,r,n=this,o=e(this.options.container),c=function(c){var l={},d=n.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;n.$bsContainer.addClass(c.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(t.DROPUP,c.hasClass(t.DROPUP)),a=c.offset(),o.is("body")?i={top:0,left:0}:(i=o.offset(),i.top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),i.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),r=c.hasClass(t.DROPUP)?0:c[0].offsetHeight,(s.major<4||d==="static")&&(l.top=a.top-i.top+r,l.left=a.left-i.left),l.width=c[0].offsetWidth,n.$bsContainer.css(l)};this.$button.on("click.bs.dropdown.data-api",function(){if(n.isDisabled())return;c(n.$newElement),n.$bsContainer.appendTo(n.options.container).toggleClass(t.SHOW,!n.$button.hasClass(t.SHOW)).append(n.$menu)}),e(window).on("resize scroll",function(){c(n.$newElement)}),this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height()),n.$bsContainer.detach()})},setOptionStatus:function(){var t,n,s,o,i,e=this,a=this.$element.find("option");if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(s=0;s<e.selectpicker.view.visibleElements.length;s++)n=e.selectpicker.current.map.originalIndex[s+e.selectpicker.view.position0],t=a[n],t&&(o=this.selectpicker.main.map.newIndex[n],i=this.selectpicker.main.elements[o],e.setDisabled(n,t.disabled||t.parentNode.tagName==="OPTGROUP"&&t.parentNode.disabled,o,i),e.setSelected(n,t.selected,o,i))},setSelected:function(e,t,n,s){var o,i,c,r=this.activeIndex!==void 0,l=this.activeIndex===e,a=l||t&&!this.multiple&&!r;n||(n=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[n]),o=s.firstChild,t&&(this.selectedIndex=e),s.classList.toggle("selected",t),s.classList.toggle("active",a),a&&(this.selectpicker.view.currentActive=s,this.activeIndex=e),o&&(o.classList.toggle("selected",t),o.classList.toggle("active",a),o.setAttribute("aria-selected",t)),a||!r&&t&&this.prevActiveIndex!==void 0&&(c=this.selectpicker.main.map.newIndex[this.prevActiveIndex],i=this.selectpicker.main.elements[c],i.classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active"))},setDisabled:function(e,n,o,i){var a;o||(o=this.selectpicker.main.map.newIndex[e]),i||(i=this.selectpicker.main.elements[o]),a=i.firstChild,i.classList.toggle(t.DISABLED,n),a&&(s.major==="4"&&a.classList.toggle(t.DISABLED,n),a.setAttribute("aria-disabled",n),n?a.setAttribute("tabindex",-1):a.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass(t.DISABLED),this.$button.addClass(t.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(t.DISABLED)&&(this.$newElement.removeClass(t.DISABLED),this.$button.removeClass(t.DISABLED).attr("aria-disabled",!1)),this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")&&this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var t=this.$element[0],n=t.selectedIndex,e=n===-1;!e&&!t.options[n].value&&(e=!0),this.$button.toggleClass("bs-placeholder",e)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98"&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var n=this,o=e(document);o.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&o.data("spaceSelect")&&(e.preventDefault(),o.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){s.major>3&&!n.dropdown&&(n.dropdown=n.$button.data("bs.dropdown"),n.dropdown._menu=n.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){n.$newElement.hasClass(t.SHOW)||n.setSize()});function i(){n.options.liveSearch?n.$searchbox.focus():n.$menuInner.focus()}function r(){n.dropdown&&n.dropdown._popper&&n.dropdown._popper.state.isCreated?i():requestAnimationFrame(r)}this.$element.on("shown.bs.select",function(){n.$menuInner[0].scrollTop!==n.selectpicker.view.scrollTop&&(n.$menuInner[0].scrollTop=n.selectpicker.view.scrollTop),s.major>3?requestAnimationFrame(r):i()}),this.$menuInner.on("click","li a",function(s,o){var w=e(this),k=n.isVirtual()?n.selectpicker.view.position0:0,l=n.selectpicker.current.map.originalIndex[w.parent().index()+k],O=u(n.$element[0]),A=n.$element.prop("selectedIndex"),b=!0;if(n.multiple&&n.options.maxOptions!==1&&s.stopPropagation(),s.preventDefault(),!n.isDisabled()&&!w.parent().hasClass(t.DISABLED)){var d,y,_,x,h=n.$element.find("option"),c=h.eq(l),E=c.prop("selected"),f=c.parent("optgroup"),C=f.find("option"),r=n.options.maxOptions,i=f.data("maxOptions")||!1;if(l===n.activeIndex&&(o=!0),o||(n.prevActiveIndex=n.activeIndex,n.activeIndex=void 0),n.multiple){if(c.prop("selected",!E),n.setSelected(l,!E),w.blur(),(r!==!1||i!==!1)&&(y=r<h.filter(":selected").length,_=i<f.find("option:selected").length,r&&y||i&&_))if(r&&r==1){h.prop("selected",!1),c.prop("selected",!0);for(d=0;d<h.length;d++)n.setSelected(d,!1);n.setSelected(l,!0)}else if(i&&i==1){f.find("option:selected").prop("selected",!1),c.prop("selected",!0);for(d=0;d<C.length;d++)x=C[d],n.setSelected(h.index(x),!1);n.setSelected(l,!0)}else{var g=typeof n.options.maxOptionsText=="string"?[n.options.maxOptionsText,n.options.maxOptionsText]:n.options.maxOptionsText,m=typeof g=="function"?g(r,i):g,v=m[0].replace("{n}",r),j=m[1].replace("{n}",i),p=e('<div class="notify"></div>');m[2]&&(v=v.replace("{var}",m[2][r>1?0:1]),j=j.replace("{var}",m[2][i>1?0:1])),c.prop("selected",!1),n.$menu.append(p),r&&y&&(p.append(e("<div>"+v+"</div>")),b=!1,n.$element.trigger("maxReached.bs.select")),i&&_&&(p.append(e("<div>"+j+"</div>")),b=!1,n.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){n.setSelected(l,!1)},10),p.delay(750).fadeOut(300,function(){e(this).remove()})}}else h.prop("selected",!1),c.prop("selected",!0),n.setSelected(l,!0);!n.multiple||n.multiple&&n.options.maxOptions===1?n.$button.focus():n.options.liveSearch&&n.$searchbox.focus(),b&&(O!=u(n.$element[0])&&n.multiple||A!=n.$element.prop("selectedIndex")&&!n.multiple)&&(a=[l,c.prop("selected"),O],n.$element.triggerNative("change"))}}),this.$menu.on("click","li."+t.DISABLED+" a, ."+t.POPOVERHEADER+", ."+t.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),n.options.liveSearch&&!e(t.target).hasClass("close")?n.$searchbox.focus():n.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),n.options.liveSearch?n.$searchbox.focus():n.$button.focus()}),this.$menu.on("click","."+t.POPOVERHEADER+" .close",function(){n.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){n.options.liveSearch?n.$searchbox.focus():n.$button.focus(),t.preventDefault(),t.stopPropagation(),e(this).hasClass("bs-select-all")?n.selectAll():n.deselectAll()}),this.$element.on({change:function(){n.render(),n.$element.trigger("changed.bs.select",a),a=null},focus:function(){n.options.mobile||n.$button.focus()}})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){!e.$searchbox.val()||e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(r=e.$searchbox.val(),e.selectpicker.search.map.newIndex={},e.selectpicker.search.map.originalIndex={},e.selectpicker.search.elements=[],e.selectpicker.search.data=[],r){var n,s,r,l,a=[],m=r.toUpperCase(),o={},i=[],p=e._searchStyle(),h=e.options.liveSearchNormalize;e._$lisSelected=e.$menuInner.find(".selected");for(s=0;s<e.selectpicker.main.data.length;s++)n=e.selectpicker.main.data[s],o[s]||(o[s]=v(n,m,p,h)),o[s]&&n.headerIndex!==void 0&&i.indexOf(n.headerIndex)===-1&&(n.headerIndex>0&&(o[n.headerIndex-1]=!0,i.push(n.headerIndex-1)),o[n.headerIndex]=!0,i.push(n.headerIndex),o[n.lastIndex+1]=!0),o[s]&&n.type!=="optgroup-label"&&i.push(s);for(s=0,l=i.length;s<l;s++){var u=i[s],f=i[s-1],n=e.selectpicker.main.data[u],d=e.selectpicker.main.data[f];(n.type!=="divider"||n.type==="divider"&&d&&d.type!=="divider"&&l-1!==s)&&(e.selectpicker.search.data.push(n),a.push(e.selectpicker.main.elements[u]),n.hasOwnProperty("originalIndex")&&(e.selectpicker.search.map.newIndex[n.originalIndex]=a.length-1,e.selectpicker.search.map.originalIndex[a.length-1]=n.originalIndex))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=a,e.createView(!0),a.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+c(r)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return typeof e!="undefined"?(this.$element.val(e),this.render(),this.$element.trigger("changed.bs.select",a),a=null,this.$element):this.$element.val()},changeAll:function(e){if(!this.multiple)return;typeof e=="undefined"&&(e=!0);var n,i=this.$element.find("option"),o=0,s=0,r=u(this.$element[0]);this.$element.addClass("bs-select-hidden");for(n=0;n<this.selectpicker.current.elements.length;n++){var c=this.selectpicker.current.data[n],l=this.selectpicker.current.map.originalIndex[n],t=i[l];t&&!t.disabled&&c.type!=="divider"&&(t.selected&&o++,t.selected=e,t.selected&&s++)}if(this.$element.removeClass("bs-select-hidden"),o===s)return;this.setOptionStatus(),this.togglePlaceholder(),a=[null,null,r],this.$element.triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){e=e||window.event,e&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(n){var i,a,r,l,u,m,f,b,y,x,E,M,p=e(this),A=p.hasClass("dropdown-toggle"),T=A?p.closest(".dropdown"):p.closest(d.MENU),s=T.data("this"),h=s.findLis(),j=!1,k=n.which===o.TAB&&!A&&!s.options.selectOnTab,F=_.test(n.which)||k,O=s.$menuInner[0].scrollTop,S=s.isVirtual(),c=S===!0?s.selectpicker.view.position0:0,C=s.$newElement.hasClass(t.SHOW);if(!C&&(F||n.which>=48&&n.which<=57||n.which>=96&&n.which<=105||n.which>=65&&n.which<=90)&&s.$button.trigger("click.bs.dropdown.data-api"),n.which===o.ESCAPE&&C&&(n.preventDefault(),s.$button.trigger("click.bs.dropdown.data-api").focus()),F){if(!h.length)return;i=S===!0?h.index(h.filter(".active")):s.selectpicker.current.map.newIndex[s.activeIndex],i===void 0&&(i=-1),i!==-1&&(a=s.selectpicker.current.elements[i+c],a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active")),n.which===o.ARROW_UP?(i!==-1&&i--,i+c<0&&(i+=h.length),s.selectpicker.view.canHighlight[i+c]||(i=s.selectpicker.view.canHighlight.slice(0,i+c).lastIndexOf(!0)-c,i===-1&&(i=h.length-1))):(n.which===o.ARROW_DOWN||k)&&(i++,i+c>=s.selectpicker.view.canHighlight.length&&(i=0),s.selectpicker.view.canHighlight[i+c]||(i=i+1+s.selectpicker.view.canHighlight.slice(i+c+1).indexOf(!0))),n.preventDefault(),f=c+i,n.which===o.ARROW_UP?c===0&&i===h.length-1?(s.$menuInner[0].scrollTop=s.$menuInner[0].scrollHeight,f=s.selectpicker.current.elements.length-1):(r=s.selectpicker.current.data[f],u=r.position-r.height,j=u<O):(n.which===o.ARROW_DOWN||k)&&(i===0?(s.$menuInner[0].scrollTop=0,f=0):(r=s.selectpicker.current.data[f],u=r.position-s.sizeInfo.menuInnerHeight,j=u>O)),a=s.selectpicker.current.elements[f],a&&(a.classList.add("active"),a.firstChild&&a.firstChild.classList.add("active")),s.activeIndex=s.selectpicker.current.map.originalIndex[f],s.selectpicker.view.currentActive=a,j&&(s.$menuInner[0].scrollTop=u),s.options.liveSearch?s.$searchbox.focus():p.focus()}else if(!p.is("input")&&!w.test(n.which)||n.which===o.SPACE&&s.selectpicker.keydown.keyHistory){m=[],n.preventDefault(),s.selectpicker.keydown.keyHistory+=g[n.which],s.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(s.selectpicker.keydown.resetKeyHistory.cancel),s.selectpicker.keydown.resetKeyHistory.cancel=s.selectpicker.keydown.resetKeyHistory.start(),b=s.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(y=0;y<s.selectpicker.current.data.length;y++)x=s.selectpicker.current.data[y],M=v(x,b,"startsWith",!0),M&&s.selectpicker.view.canHighlight[y]&&(x.index=y,m.push(x.originalIndex));m.length&&(l=0,h.removeClass("active").find("a").removeClass("active"),b.length===1&&(l=m.indexOf(s.activeIndex),l===-1||l===m.length-1?l=0:l++),E=s.selectpicker.current.map.newIndex[m[l]],r=s.selectpicker.current.data[E],O-r.position>0?(u=r.position-r.height,j=!0):(u=r.position-s.sizeInfo.menuInnerHeight,j=r.position>O+s.sizeInfo.menuInnerHeight),a=s.selectpicker.current.elements[E],a.classList.add("active"),a.firstChild&&a.firstChild.classList.add("active"),s.activeIndex=m[l],a.firstChild.focus(),j&&(s.$menuInner[0].scrollTop=u),p.focus())}C&&(n.which===o.SPACE&&!s.selectpicker.keydown.keyHistory||n.which===o.ENTER||n.which===o.TAB&&s.options.selectOnTab)&&(n.which!==o.SPACE&&n.preventDefault(),(!s.options.liveSearch||n.which!==o.SPACE)&&(s.$menuInner.find(".active a").trigger("click",!0),p.focus(),s.options.liveSearch||(n.preventDefault(),e(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};function j(o){var a,c,r=arguments,i=o;if([].shift.apply(r),!s.success){try{s.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch{s.full=n.BootstrapVersion.split(" ")[0].split(".")}s.major=s.full[0],s.success=!0,s.major==="4"&&(t.DIVIDER="dropdown-divider",t.SHOW="show",t.BUTTONCLASS="btn-light",n.DEFAULTS.style=t.BUTTONCLASS="btn-light",t.POPOVERHEADER="popover-header")}return c=this.each(function(){if(s=e(this),s.is("select")){var s,c,l,t=s.data("selectpicker"),o=typeof i=="object"&&i;if(t){if(o)for(l in o)o.hasOwnProperty(l)&&(t.options[l]=o[l])}else c=e.extend({},n.DEFAULTS,e.fn.selectpicker.defaults||{},s.data(),o),c.template=e.extend({},n.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},s.data().template,o.template),s.data("selectpicker",t=new n(this,c));typeof i=="string"&&(t[i]instanceof Function?a=t[i].apply(t,r):a=t.options[i])}}),typeof a!="undefined"?a:c}O=e.fn.selectpicker,e.fn.selectpicker=j,e.fn.selectpicker.Constructor=n,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=O,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',n.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);j.call(t,t.data())})})})(e)})
